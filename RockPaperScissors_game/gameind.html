<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="gamestyle.css">
    <title>Stone Paper Scissors</title>
    <h1>Have Fun!</h1>
</head>
<body>
    <div class="score-card">
        <div id="you" class="player-box">YOU</div>
        <div id="cpu" class="player-box">CPU</div>
        <span id="player-score">0</span>:<span id="cpu-score">0</span>        
    </div>

    <div class="message" id="message">
        Let's Start        
    </div>

    <div class="control-handles">
        <img src="res/rock.jpg" alt="STONE" onclick="stone()">
        <img src="res/paper.jpg" alt="PAPER" onclick="paper()">
        <img src="res/scissors.jpg" alt="SCISSORS" onclick="scissor()">
    </div>

    <div class="comp-move" id="comp-move">
        Comp's Move will be displayed here
    </div>

</body>
<script>

    function winner(name){
        if(name=='tie'){
            document.getElementById("message").innerHTML="It's a Tie";
        }
        else if(name=='plyr'){
            document.getElementById("message").innerHTML="You Won!";
            temp=Number(document.getElementById("player-score").innerHTML);
            temp+=1;
            document.getElementById("player-score").innerHTML=temp;
        }
        else if(name=='comp'){
            document.getElementById("message").innerHTML="You Lost!";
            temp=Number(document.getElementById("cpu-score").innerHTML);
            temp+=1;
            document.getElementById("cpu-score").innerHTML=temp;
        }
    }

    function evaluateGame(plyr,comp){
        if(plyr==comp){
            // tie
            winner('tie');
        }
        else if(plyr=='stone' && comp=='paper'){
            // comp wins
            winner('comp');
        }
        else if(plyr=='paper' && comp=='stone'){
            // plyr wins
            winner('plyr');
        }
        else if(plyr=='stone' && comp=='scissors'){
            // plyr wins
            winner('plyr');
        }
        else if(plyr=='scissors' && comp=='stone'){
            // comp wins
            winner('comp');
        }
        else if(plyr=='scissors' && comp=='paper'){
            // plyr wins
            winner('plyr');
        }
        else if(plyr=='paper' && comp=='scissors'){
            // comp wins
            winner('comp');
        }
    }

    function cpuchoose(){
        var temp = Math.floor(Math.random()*3);
        console.log(temp);
        if(temp==0){
            document.getElementById("comp-move").innerHTML="I chose Rock"
            return 'stone';
        }
        else if(temp==1){
            document.getElementById("comp-move").innerHTML="I chose Paper"
            return 'paper';
        }
        else if(temp==2){
            document.getElementById("comp-move").innerHTML="I chose Scissors"
            return 'scissors';
        }
    }
    var plyr,comp;
    function stone(){
        plyr='stone';
        comp = cpuchoose();
        evaluateGame(plyr,comp);
    }
    function paper(){
        plyr='paper';
        comp = cpuchoose();
        evaluateGame(plyr,comp);
    }
    function scissor(){
        plyr='scissors';
        comp = cpuchoose();
        evaluateGame(plyr,comp);
    }
</script>
</html>
